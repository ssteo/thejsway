
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="A gentle introduction to an essential language">
      
      
        <meta name="author" content="Baptiste Pesquet">
      
      
      
        <link rel="prev" href="../chapter23/">
      
      
        <link rel="next" href="../chapter25/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.48">
    
    
      
        <title>Discover Node.js - The JavaScript Way</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.6f8fc17f.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-PFVDW9Q796"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-PFVDW9Q796",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-PFVDW9Q796",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="red" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#discover-nodejs" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="The JavaScript Way" class="md-header__button md-logo" aria-label="The JavaScript Way" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            The JavaScript Way
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Discover Node.js
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="red" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
      <div class="md-header__option">
  <div class="md-select">
    
    <button class="md-header__button md-icon" aria-label="Select language">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.5 17.5 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2zm-2.62 7 1.62-4.33L19.12 17z"/></svg>
    </button>
    <div class="md-select__inner">
      <ul class="md-select__list">
        
          <li class="md-select__item">
            <a href="/" hreflang="en" class="md-select__link">
              English
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="https://github.com/thejsway/thejsway_fr" hreflang="fr" class="md-select__link">
              French
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="https://github.com/thejsway/thejsway_es" hreflang="es" class="md-select__link">
              Spanish
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="https://github.com/thejsway/thejsway_id" hreflang="id" class="md-select__link">
              Indonesian
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</div>
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/thejsway/thejsway" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="The JavaScript Way" class="md-nav__button md-logo" aria-label="The JavaScript Way" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    The JavaScript Way
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/thejsway/thejsway" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Introduction
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../intro01/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    About this book
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../intro02/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Welcome to programming
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../intro03/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introducing JavaScript
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../intro04/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Environment setup
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Learn to code programs
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Learn to code programs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter01/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3, 2, 1... Code
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter02/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Play with variables
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter03/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Add conditions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter04/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Repeat statements
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter05/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Write functions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter06/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Create your first objects
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter07/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Store data in arrays
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter08/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Work with strings
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter09/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Understand object-oriented programming
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter10/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Discover functional programming
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter11/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Project: a social news program
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Create interactive web pages
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Create interactive web pages
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter12/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    What's a web page?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter13/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Discover the DOM
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter14/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Traverse the DOM
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter15/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Modify page structure
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter16/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    React to events
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter17/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Manipulate forms
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter18/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Animate elements
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter19/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Project: a social news web page
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Build web applications
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Build web applications
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter20/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Web development 101
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter21/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Query a web server
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter22/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Use web APIs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter23/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Send data to a web server
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Discover Node.js
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Discover Node.js
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introducing-nodejs" class="md-nav__link">
    <span class="md-ellipsis">
      Introducing Node.js
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Introducing Node.js">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#a-bit-of-history" class="md-nav__link">
    <span class="md-ellipsis">
      A bit of history
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#a-first-example" class="md-nav__link">
    <span class="md-ellipsis">
      A first example
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nodejs-modules" class="md-nav__link">
    <span class="md-ellipsis">
      Node.js modules
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Node.js modules">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-benefits-of-modularity" class="md-nav__link">
    <span class="md-ellipsis">
      The benefits of modularity
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-a-module" class="md-nav__link">
    <span class="md-ellipsis">
      Creating a module
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loading-a-module" class="md-nav__link">
    <span class="md-ellipsis">
      Loading a module
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exporting-only-a-specific-object" class="md-nav__link">
    <span class="md-ellipsis">
      Exporting only a specific object
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exporting-only-a-class" class="md-nav__link">
    <span class="md-ellipsis">
      Exporting only a class
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nodejs-packages" class="md-nav__link">
    <span class="md-ellipsis">
      Node.js packages
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Node.js packages">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#anatomy-of-a-package" class="md-nav__link">
    <span class="md-ellipsis">
      Anatomy of a package
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-packagejson-file" class="md-nav__link">
    <span class="md-ellipsis">
      The package.json file
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#semantic-versioning" class="md-nav__link">
    <span class="md-ellipsis">
      Semantic versioning
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      Dependencies
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#package-management-with-npm-or-yarn" class="md-nav__link">
    <span class="md-ellipsis">
      Package management with npm or yarn
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Package management with npm or yarn">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#installing-dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      Installing dependencies
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-a-new-dependency" class="md-nav__link">
    <span class="md-ellipsis">
      Adding a new dependency
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-a-dependency" class="md-nav__link">
    <span class="md-ellipsis">
      Using a dependency
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#relationship-between-packages-and-modules" class="md-nav__link">
    <span class="md-ellipsis">
      Relationship between packages and modules
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tldr" class="md-nav__link">
    <span class="md-ellipsis">
      TL;DR
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#coding-time" class="md-nav__link">
    <span class="md-ellipsis">
      Coding time!
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Coding time!">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#circles-again" class="md-nav__link">
    <span class="md-ellipsis">
      Circles again
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#accounting" class="md-nav__link">
    <span class="md-ellipsis">
      Accounting
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#playing-with-dates" class="md-nav__link">
    <span class="md-ellipsis">
      Playing with dates
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter25/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Create a web server
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter26/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Project: a social news web app
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Conclusion
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Conclusion
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../concl01/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Summary and perspectives
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Appendices
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Appendices
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../appendix02/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Style guide
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../concl02/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Acknowledgments
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introducing-nodejs" class="md-nav__link">
    <span class="md-ellipsis">
      Introducing Node.js
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Introducing Node.js">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#a-bit-of-history" class="md-nav__link">
    <span class="md-ellipsis">
      A bit of history
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#a-first-example" class="md-nav__link">
    <span class="md-ellipsis">
      A first example
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nodejs-modules" class="md-nav__link">
    <span class="md-ellipsis">
      Node.js modules
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Node.js modules">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#the-benefits-of-modularity" class="md-nav__link">
    <span class="md-ellipsis">
      The benefits of modularity
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-a-module" class="md-nav__link">
    <span class="md-ellipsis">
      Creating a module
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#loading-a-module" class="md-nav__link">
    <span class="md-ellipsis">
      Loading a module
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exporting-only-a-specific-object" class="md-nav__link">
    <span class="md-ellipsis">
      Exporting only a specific object
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exporting-only-a-class" class="md-nav__link">
    <span class="md-ellipsis">
      Exporting only a class
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nodejs-packages" class="md-nav__link">
    <span class="md-ellipsis">
      Node.js packages
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Node.js packages">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#anatomy-of-a-package" class="md-nav__link">
    <span class="md-ellipsis">
      Anatomy of a package
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-packagejson-file" class="md-nav__link">
    <span class="md-ellipsis">
      The package.json file
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#semantic-versioning" class="md-nav__link">
    <span class="md-ellipsis">
      Semantic versioning
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      Dependencies
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#package-management-with-npm-or-yarn" class="md-nav__link">
    <span class="md-ellipsis">
      Package management with npm or yarn
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Package management with npm or yarn">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#installing-dependencies" class="md-nav__link">
    <span class="md-ellipsis">
      Installing dependencies
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-a-new-dependency" class="md-nav__link">
    <span class="md-ellipsis">
      Adding a new dependency
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-a-dependency" class="md-nav__link">
    <span class="md-ellipsis">
      Using a dependency
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#relationship-between-packages-and-modules" class="md-nav__link">
    <span class="md-ellipsis">
      Relationship between packages and modules
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tldr" class="md-nav__link">
    <span class="md-ellipsis">
      TL;DR
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#coding-time" class="md-nav__link">
    <span class="md-ellipsis">
      Coding time!
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Coding time!">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#circles-again" class="md-nav__link">
    <span class="md-ellipsis">
      Circles again
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#accounting" class="md-nav__link">
    <span class="md-ellipsis">
      Accounting
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#playing-with-dates" class="md-nav__link">
    <span class="md-ellipsis">
      Playing with dates
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="discover-nodejs">Discover Node.js</h1>
<p>In this chapter, you'll discover how to create JavaScript applications outside the browser thanks to a technology called Node.js.</p>
<h2 id="introducing-nodejs">Introducing Node.js</h2>
<h3 id="a-bit-of-history">A bit of history</h3>
<p>To understand what <a href="https://nodejs.org">Node.js</a> (or Node for short) is, we have to travel back in time to the 2000's. As JavaScript was becoming increasingly important for improving the user experience on the web, web browser designers spent a considerable amount of resources on executing JS code as fast as possible. In particular, the Chrome JavaScript engine, codenamed V8, became open source in 2008 and was a huge step forward in general performance and optimization.</p>
<p><img alt="Chrome V8 logo" src="../images/chapter24-01.png" /></p>
<p>The core idea behind Node.js was simple yet visionary: since the V8 engine is so good at executing code, why not leverage its power to create efficient JavaScript applications <em>outside the browser</em>? And thus Node.js was born in 2009, originally written by Ryan Dahl. Its project quickly became very popular and Node is now one of the top technologies for building apps and creating APIs with JavaScript.</p>
<p><img alt="The official Node logo" src="../images/chapter24-02.png" /></p>
<p>Node also made it easier for developers to publish, share and reuse code. Today, hundreds of thousands of ready-to-use JavaScript libraries, called <strong>packages</strong>, are available and easy to integrate in any Node-based project (more on that later). This rich ecosystem is one of Node's greatest strengths.</p>
<h3 id="a-first-example">A first example</h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This chapter assumes a working Node environnement. Refer to the <a href="../intro04/">introduction</a> for setting one up.</p>
</div>
<p>The simplest possible Node program is as follows.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;Hello from Node!&quot;</span><span class="p">);</span>
</code></pre></div>
<p>As you see, the <code>console.log()</code> command is also available in Node. Just like in a web browser, it outputs the value passed as parameter to the console. Assuming this code is saved into a file named <code>hello.js</code>, here's how to execute it through Node in a terminal.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="go">node hello.js</span>
</code></pre></div>
<p><img alt="Execution result" src="../images/chapter24-04.png" /></p>
<p>An in-depth study of the Node platform is out of this book's scope. Let's focus on two of its defining features: <strong>modules</strong> and <strong>packages</strong>.</p>
<h2 id="nodejs-modules">Node.js modules</h2>
<h3 id="the-benefits-of-modularity">The benefits of modularity</h3>
<p>The general idea behind modules is pretty straightforward and similar to the one behind functions. Instead of writing all the code in one place, thus creating a monolithic application, it's often better to split the functionalities into smaller, loosely coupled parts. Each part should focus on a specific task, making it far easier to understand and reuse. The general application's behavior results from the interactions between these building blocks.</p>
<p>These smaller parts are sometimes referred to as components in other environments. In Node, they are called <strong>modules</strong> and can come under different forms. The general definition of a module is: anything that can be loaded using Node's <code>require()</code> function. The Node.js platform adheres to the <a href="http://requirejs.org/docs/commonjs.html">CommonJS</a> module format.</p>
<h3 id="creating-a-module">Creating a module</h3>
<p>The simplest form of module is a single JavaScript file, containing special commands to <strong>export</strong> specific pieces of code. The rest of the code is <strong>private</strong> to the module and won’t be visible outside of it.</p>
<p>For example, a <code>greetings.js</code> module could contain the following code.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="c1">// Create three functions</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="kd">const</span><span class="w"> </span><span class="nx">sayHello</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">name</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="sb">`Hello, </span><span class="si">${</span><span class="nx">name</span><span class="si">}</span><span class="sb">`</span><span class="p">;</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="kd">const</span><span class="w"> </span><span class="nx">flatter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="sb">`Look how gorgeous you are today!`</span><span class="p">;</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="kd">const</span><span class="w"> </span><span class="nx">sayGoodbye</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">name</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="sb">`Goodbye, </span><span class="si">${</span><span class="nx">name</span><span class="si">}</span><span class="sb">`</span><span class="p">;</span>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="c1">// Export two of them</span>
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span><span class="p">.</span><span class="nx">sayHello</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">sayHello</span><span class="p">;</span>
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span><span class="p">.</span><span class="nx">flatter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">flatter</span><span class="p">;</span>
</code></pre></div>
<p>In Node, functions can be <em>exported</em> (made accessible outside) by specifying additional properties on the special <code>module.exports</code> object. Here, two functions are exported under the names <code>sayHello</code> and <code>flatter</code>. The third one is not exported.</p>
<p>This module could have been written in a slightly more concise way by directly defining the functions as properties of the <code>module.exports</code> object.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="c1">// Create and export two functions</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span><span class="p">.</span><span class="nx">sayHello</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">name</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="sb">`Hello, </span><span class="si">${</span><span class="nx">name</span><span class="si">}</span><span class="sb">`</span><span class="p">;</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span><span class="p">.</span><span class="nx">flatter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="sb">`Look how gorgeous you are today!`</span><span class="p">;</span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="c1">// Create a non-exported function</span>
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="kd">const</span><span class="w"> </span><span class="nx">sayGoodbye</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">name</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="sb">`Goodbye, </span><span class="si">${</span><span class="nx">name</span><span class="si">}</span><span class="sb">`</span><span class="p">;</span>
</code></pre></div>
<h3 id="loading-a-module">Loading a module</h3>
<p>Assuming both files are located in the same directory, another JavaScript file could load the previously created module by using the <code>require()</code> function provided by Node.js.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="c1">// Load the module &quot;greetings.js&quot;</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="kd">const</span><span class="w"> </span><span class="nx">greetings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s2">&quot;./greetings.js&quot;</span><span class="p">);</span>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="c1">// Use exported functions</span>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">greetings</span><span class="p">.</span><span class="nx">sayHello</span><span class="p">(</span><span class="s2">&quot;Baptiste&quot;</span><span class="p">));</span><span class="w"> </span><span class="c1">// &quot;Hello, Baptiste&quot;</span>
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">greetings</span><span class="p">.</span><span class="nx">flatter</span><span class="p">());</span><span class="w"> </span><span class="c1">// &quot;Look how gorgeous you are today!&quot;</span>
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">greetings</span><span class="p">.</span><span class="nx">sayGoodbye</span><span class="p">(</span><span class="s2">&quot;Baptiste&quot;</span><span class="p">));</span><span class="w"> </span><span class="c1">// Error: sayGoodbye doesn’t exist</span>
</code></pre></div>
<p>The parameter passed to <code>require()</code> identifies the module to load. Here, the <code>"./"</code> substring at the beginning indicates a <strong>relative path</strong>: the module should be searched for in the same directory as the file that loads it.</p>
<p>The result of the call to <code>require()</code> is an object, named <code>greetings</code> here. This object references the value of the <code>module.exports</code> object defined inside the module. Thus, the <code>greetings</code> object has two functions <code>sayHello</code> and <code>flatter</code> as properties. Trying to access its non-existent <code>sayGoodbye</code> property triggers an error during execution.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Giving the object resulting from a call to <code>require()</code> the same name as the loaded module's name, through not mandatory, is a common practice.</p>
</div>
<h3 id="exporting-only-a-specific-object">Exporting only a specific object</h3>
<p>Numerous modules in the Node.js ecosystem export only a single object aggregating all of the module's functionality. To do so, they reassign the <code>module.exports</code> object instead of adding properties to it.</p>
<p>For example, check out how the following module <code>calculator.js</code> is defined.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="c1">// Declare a factory function that returns an object literal</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="kd">const</span><span class="w"> </span><span class="nx">createCalc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="w">  </span><span class="c1">// The returned object has 4 methods</span>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="w">    </span><span class="nx">add</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span><span class="w"> </span><span class="nx">y</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="nx">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">y</span><span class="p">;</span>
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a><span class="w">    </span><span class="nx">subtract</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span><span class="w"> </span><span class="nx">y</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a><span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="nx">x</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nx">y</span><span class="p">;</span>
<a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a><span class="w">    </span><span class="nx">multiply</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span><span class="w"> </span><span class="nx">y</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a><span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="nx">x</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nx">y</span><span class="p">;</span>
<a id="__codelineno-5-13" name="__codelineno-5-13" href="#__codelineno-5-13"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-5-14" name="__codelineno-5-14" href="#__codelineno-5-14"></a><span class="w">    </span><span class="nx">divide</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span><span class="w"> </span><span class="nx">y</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-5-15" name="__codelineno-5-15" href="#__codelineno-5-15"></a><span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="nx">x</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="nx">y</span><span class="p">;</span>
<a id="__codelineno-5-16" name="__codelineno-5-16" href="#__codelineno-5-16"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-5-17" name="__codelineno-5-17" href="#__codelineno-5-17"></a><span class="w">  </span><span class="p">};</span>
<a id="__codelineno-5-18" name="__codelineno-5-18" href="#__codelineno-5-18"></a><span class="p">};</span>
<a id="__codelineno-5-19" name="__codelineno-5-19" href="#__codelineno-5-19"></a>
<a id="__codelineno-5-20" name="__codelineno-5-20" href="#__codelineno-5-20"></a><span class="c1">// Export the factory function</span>
<a id="__codelineno-5-21" name="__codelineno-5-21" href="#__codelineno-5-21"></a><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">createCalc</span><span class="p">;</span>
</code></pre></div>
<p>In this module, the only exported element is a function that returns an object literal. Using it in another file (located in the same folder) is as follows.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="kd">const</span><span class="w"> </span><span class="nx">calculator</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s2">&quot;./calculator.js&quot;</span><span class="p">);</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="c1">// Create an object by calling the exported function of this module</span>
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="kd">const</span><span class="w"> </span><span class="nx">calc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">calculator</span><span class="p">();</span>
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a>
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="c1">// Use the object&#39;s methods</span>
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`2 + 3 = </span><span class="si">${</span><span class="nx">calc</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="mf">2</span><span class="p">,</span><span class="w"> </span><span class="mf">3</span><span class="p">)</span><span class="si">}</span><span class="sb">`</span><span class="p">);</span><span class="w"> </span><span class="c1">// &quot;2 + 3 = 5&quot;</span>
</code></pre></div>
<p>The result of the call to <code>require()</code> is a function stored in the <code>calculator</code> variable, referencing the <code>createCalc()</code> function. Calling this function returns an object with several methods, which can be subsequently used.</p>
<h3 id="exporting-only-a-class">Exporting only a class</h3>
<p>When you want a module to only export a specific class, you can also reassign the <code>module.exports</code> object.</p>
<p>Here is a module <code>user.js</code> that defines and exports a <code>User</code> class.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="c1">// Export a User class</span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nx">User</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="w">  </span><span class="kr">constructor</span><span class="p">(</span><span class="nx">firstName</span><span class="p">,</span><span class="w"> </span><span class="nx">lastName</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">firstName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">firstName</span><span class="p">;</span>
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">lastName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">lastName</span><span class="p">;</span>
<a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a><span class="w">    </span><span class="c1">// Create user login by combining first letter of first name + last name</span>
<a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a><span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">login</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">firstName</span><span class="p">[</span><span class="mf">0</span><span class="p">]</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">lastName</span><span class="p">).</span><span class="nx">toLowerCase</span><span class="p">();</span>
<a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a><span class="w">  </span><span class="nx">describe</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="sb">`</span><span class="si">${</span><span class="k">this</span><span class="p">.</span><span class="nx">firstName</span><span class="si">}</span><span class="sb"> </span><span class="si">${</span><span class="k">this</span><span class="p">.</span><span class="nx">lastName</span><span class="si">}</span><span class="sb"> (login: </span><span class="si">${</span><span class="k">this</span><span class="p">.</span><span class="nx">login</span><span class="si">}</span><span class="sb">)`</span><span class="p">;</span>
<a id="__codelineno-7-11" name="__codelineno-7-11" href="#__codelineno-7-11"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-7-12" name="__codelineno-7-12" href="#__codelineno-7-12"></a><span class="p">};</span>
</code></pre></div>
<p>Here's how to use this class in another file (located in the same folder).</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="c1">// Notice the first uppercase letter, since User is a class</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="kd">const</span><span class="w"> </span><span class="nx">User</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s2">&quot;./user.js&quot;</span><span class="p">);</span>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="c1">// Create an object from this class</span>
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="kd">const</span><span class="w"> </span><span class="nx">johnDoe</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">User</span><span class="p">(</span><span class="s2">&quot;John&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Doe&quot;</span><span class="p">);</span>
<a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a>
<a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a><span class="c1">// Use the created object</span>
<a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">johnDoe</span><span class="p">.</span><span class="nx">describe</span><span class="p">());</span>
</code></pre></div>
<p><img alt="Execution result" src="../images/chapter24-08.png" /></p>
<h2 id="nodejs-packages">Node.js packages</h2>
<p>The Node platform provides a way to structure an application under the form of a <strong>package</strong>.</p>
<h3 id="anatomy-of-a-package">Anatomy of a package</h3>
<p>Technically, a package is a folder containing the following elements:</p>
<ul>
<li>A <code>package.json</code> file which describes the application and its dependencies.</li>
<li>A entry point into the application, defaulting to the <code>index.js</code> file.</li>
<li>A <code>node_modules/</code> subfolder, which is the default place where Node looks for modules to be loaded into the application.</li>
<li>All the other files forming the source code of the application.</li>
</ul>
<h3 id="the-packagejson-file">The <code>package.json</code> file</h3>
<p>This JSON file describes the application and its dependencies: you can think of it as the app's ID document. It has a well-defined format consisting of many fields, most of them optional. The two mandatory fields are:</p>
<ul>
<li><code>name</code> (all lowercase letters without dots, underscores and any non-URL safe character in it).</li>
<li><code>version</code> (following the semantic versioning format - more on that later).</li>
</ul>
<p>Below is an example of a typical <code>package.json</code> file.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="p">{</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="w">  </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;thejsway-node-example&quot;</span><span class="p">,</span>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="w">  </span><span class="nt">&quot;version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1.0.0&quot;</span><span class="p">,</span>
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="w">  </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Node example for the book \&quot;The JavaScript Way\&quot;&quot;</span><span class="p">,</span>
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="w">  </span><span class="nt">&quot;scripts&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a><span class="w">    </span><span class="nt">&quot;start&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;node index.js&quot;</span>
<a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a><span class="w">  </span><span class="nt">&quot;dependencies&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a><span class="w">    </span><span class="nt">&quot;semver&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;^7.3.8&quot;</span><span class="p">,</span>
<a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a><span class="w">    </span><span class="nt">&quot;moment&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;^2.29.4&quot;</span>
<a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-9-12" name="__codelineno-9-12" href="#__codelineno-9-12"></a><span class="w">  </span><span class="nt">&quot;keywords&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-9-13" name="__codelineno-9-13" href="#__codelineno-9-13"></a><span class="w">    </span><span class="s2">&quot;javascript&quot;</span><span class="p">,</span>
<a id="__codelineno-9-14" name="__codelineno-9-14" href="#__codelineno-9-14"></a><span class="w">    </span><span class="s2">&quot;node&quot;</span><span class="p">,</span>
<a id="__codelineno-9-15" name="__codelineno-9-15" href="#__codelineno-9-15"></a><span class="w">    </span><span class="s2">&quot;thejsway&quot;</span>
<a id="__codelineno-9-16" name="__codelineno-9-16" href="#__codelineno-9-16"></a><span class="w">  </span><span class="p">],</span>
<a id="__codelineno-9-17" name="__codelineno-9-17" href="#__codelineno-9-17"></a><span class="w">  </span><span class="nt">&quot;author&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Baptiste Pesquet&quot;</span>
<a id="__codelineno-9-18" name="__codelineno-9-18" href="#__codelineno-9-18"></a><span class="p">}</span>
</code></pre></div>
<h3 id="semantic-versioning">Semantic versioning</h3>
<p>Node packages are versioned using a format called <strong>semantic versioning</strong>. A version number is a three-digit string of the form <code>MAJOR.MINOR.PATCH</code> (example : <code>2.29.4</code>).</p>
<p>Here are the rules for defining a version number:</p>
<ul>
<li>The very first version should be <code>1.0.0</code>.</li>
<li>Bug fixes and minor changes should increment the <code>PATCH</code> digit.</li>
<li>New features added in a backwards-compatible way should increment the <code>MINOR</code> digit.</li>
<li>Breaking changes should increment the <code>MAJOR</code> digit.</li>
</ul>
<p>These strict rules exist to facilitate the management of <strong>dependencies</strong> between packages.</p>
<h3 id="dependencies">Dependencies</h3>
<p>In the <code>package.json</code> file definition, the <code>dependencies</code> field is used to declared the external packages needed by the current package. Each dependency is created with the package name followed by a <strong>version range</strong>. This version range specifies the package versions that are acceptable to use.</p>
<p>There are many ways to define a version range. The most commonly used ones are:</p>
<ul>
<li>Targeting a very specific version. Example: <code>2.18.1</code>.</li>
<li>Using the <code>~</code> operator to allow patch-level changes. For example, the <code>~2.18.1</code> version range accepts version <code>2.18.7</code>, but not <code>2.19.0</code> nor <code>3.0.0</code>.</li>
<li>Using the <code>^</code> operator to allow changes that do not modify the left-most non-zero digit in the version. Examples:</li>
<li>The <code>^2.18.1</code> version range accepts versions <code>2.18.7</code> and <code>2.19.0</code>, but not <code>3.0.0</code>.</li>
<li>The <code>^0.2.3</code> version range accepts version <code>0.2.5</code> but not <code>0.3.0</code> nor <code>1.0.0</code>.</li>
</ul>
<p>Fine-tuning the targeted versions of external packages though version ranges helps limiting the risk of breaking the application apart when updating its dependencies.</p>
<h2 id="package-management-with-npm-or-yarn">Package management with <strong>npm</strong> or <strong>yarn</strong></h2>
<p>Soon after the creation of Node.js, it became apparent that something was missing to orchestrate code sharing and reuse through modules. So <a href="https://www.npmjs.com">npm</a> (Node Package Manager) was born in 2010. It is still the standard package manager for the Node ecosystem, even if it is being challenged by <a href="https://yarnpkg.com">yarn</a>, a more recent alternative. It consists of a command line client, also called <strong>npm</strong>, and an online database of public packages, called the <strong>npm registry</strong> and accessed by the client.</p>
<p><img alt="npm logo" src="../images/chapter24-03.png" /></p>
<p>Over 477,000 packages are now available on the registry, ready to reuse and covering various needs. This makes npm the largest ecosystem of open source libraries in the world.</p>
<p>The npm client is used by typing commands in a terminal open in the package's folder. It offers numerous possibilities for managing packages. Let's study two of the most important ones.</p>
<h3 id="installing-dependencies">Installing dependencies</h3>
<p>To install all the dependencies of a package, you type the following npm command.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="go">npm install</span>
</code></pre></div>
<p>This will read the <code>package.json</code> file, look for the packages satisfying the version ranges declared in the <code>dependencies</code> field, and download and install them (and their own dependencies) in the <code>node_modules/</code> subfolder.</p>
<h3 id="adding-a-new-dependency">Adding a new dependency</h3>
<p>There are two ways for adding a new dependency to a package. The first one is to manually edit the <code>package.json</code> to declare the dependency and its associated version range. The next step is to run the following npm command.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="go">npm update</span>
</code></pre></div>
<p>This will update all the packages listed to the latest version respecting their version range, and install missing packages.</p>
<p>The other way is to run the following command.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="go">npm install &lt;package-id&gt;</span>
</code></pre></div>
<p>This command will fetch a specific package from the registry, download it in the <code>node/modules/</code> subfolder and (since npm 5) update the <code>package.json</code> file to add it as a new dependency. The <code>&lt;package-id&gt;</code> parameter is usually the dependency's package name.</p>
<h3 id="using-a-dependency">Using a dependency</h3>
<p>Once external packages have been installed in <code>node_modules/</code>, the application can load them as modules with the <code>require()</code> function.</p>
<p>For example, the npm registry has a <strong>semver</strong> package that handles semantic versioning. Assuming this package has been installed as a dependency, it can be used to perform manual version range checks.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="c1">// Load the npm semver package as a module</span>
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="c1">// Notice the omission of &quot;./&quot; since the package was installed in node_modules/</span>
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a><span class="kd">const</span><span class="w"> </span><span class="nx">semver</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">require</span><span class="p">(</span><span class="s2">&quot;semver&quot;</span><span class="p">);</span>
<a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a>
<a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a><span class="c1">// Check if specific versions satisfy a range</span>
<a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">semver</span><span class="p">.</span><span class="nx">satisfies</span><span class="p">(</span><span class="s2">&quot;2.19.0&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;^2.18.1&quot;</span><span class="p">));</span><span class="w"> </span><span class="c1">// true</span>
<a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">semver</span><span class="p">.</span><span class="nx">satisfies</span><span class="p">(</span><span class="s2">&quot;3.0.0&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;^2.18.5&quot;</span><span class="p">));</span><span class="w"> </span><span class="c1">// false</span>
</code></pre></div>
<h3 id="relationship-between-packages-and-modules">Relationship between packages and modules</h3>
<p>Let's recap what you learned so far:</p>
<ul>
<li>A <em>module</em> is anything that can be loaded with <code>require()</code>.</li>
<li>A <em>package</em> is a Node application described by a <code>package.json</code> file.</li>
</ul>
<p>A package used in another Node application is loaded with <code>require()</code>, making it a module. To be loaded as a module, a package must contain an <code>index.js</code> file or a <code>main</code> field in <code>package.json</code> defining a specific entry point.</p>
<p>Some packages only contain an executable command and thus cannot be loaded as modules. On the other hand, a single JavaScript file loaded with <code>require()</code> is a module but not a package, since it doesn’t have a <code>package.json</code> file.</p>
<p>Check out the <a href="https://docs.npmjs.com/packages-and-modules">npm documentation</a> for more details on this aspect.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><a href="https://flaviocopes.com/es-modules/">ES modules</a> is a newer syntax for defining and loading modules, available in recent (v15.3+) versions of Node.js. It should eventually replace CommonJS as the standard way.</p>
</div>
<h2 id="tldr">TL;DR</h2>
<ul>
<li>
<p><strong>Node.js</strong> (or simply Node) is a platform built on Chrome's JavaScript engine (V8) to create JavaScript applications outside the browser.</p>
</li>
<li>
<p>Node emphasizes modularity: instead of being monolithic, applications are designed as a set of small, focused <strong>modules</strong> working together to achieve the desired behavior.</p>
</li>
<li>
<p>Node adheres to the <a href="http://requirejs.org/docs/commonjs.html">CommonJS</a> module format. It provides a <code>require()</code> for loading a module.</p>
</li>
<li>
<p>Inside a module, the <code>module.exports</code> object is used to export pieces of code. You can <strong>add properties</strong> to it to export element. You can also <strong>reassign</strong> <code>module.exports</code> to export only a specific element.</p>
</li>
<li>
<p>Node provides a way to structure an application under the form of a <strong>package</strong>. A package is a folder containing an application described by a <code>package.json</code> file. The default entry point of a package is the <code>index.js</code> file.</p>
</li>
<li>
<p>Package versions are defined using the <strong>semantic versioning</strong> format: a three-digit string of the form <code>MAJOR.MINOR.PATCH</code>. This format facilitates the management of <strong>dependencies</strong> between packages.</p>
</li>
<li>
<p><a href="https://www.npmjs.com">npm</a> (Node Package Manager) is the standard package manager for the Node ecosystem. It consists of a command line client and an online registry of public packages accessed by the client. This registry is the largest ecosystem of open source libraries in the world.</p>
</li>
<li>
<p>The main npm commands are <code>npm install</code> (to install all the dependencies of a package or adding a new one) and <code>npm update</code> (to update all the packages and install missing ones according to <code>package.json</code>).</p>
</li>
<li>
<p>Once installed through npm, packages defined as dependencies are stored in the <code>node_modules/</code> subfolder and can be loaded as modules using <code>require()</code>.</p>
</li>
<li>
<p>Some packages (containing only executable files or no entry point) cannot be loaded as modules. Some modules (single JavaScript files) are not packages.</p>
</li>
</ul>
<h2 id="coding-time">Coding time!</h2>
<h3 id="circles-again">Circles again</h3>
<p>Create a <code>circle.js</code> module exporting two functions <code>circumference()</code> and <code>area()</code>, each taking the circle radius as a parameter.</p>
<p>Load this module in a <code>index.js</code> file and test the two functions.</p>
<p><img alt="Execution result" src="../images/chapter24-05.png" /></p>
<h3 id="accounting">Accounting</h3>
<p>Create a <code>accounting.js</code> module exporting an <code>Account</code> class containing:</p>
<ul>
<li>a constructor accepting an <code>owner</code>parameter;</li>
<li>a <code>credit()</code> method for crediting a sum of money on the account;</li>
<li>a <code>describe()</code> method for describing the account.</li>
</ul>
<p>Load this module in a <code>index.js</code> file and test the class.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="c1">// TODO: load the &quot;accounting.js&quot; module</span>
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="c1">// Create object from the exported class</span>
<a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a><span class="kd">const</span><span class="w"> </span><span class="nx">myAccount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Account</span><span class="p">(</span><span class="s2">&quot;Jeff&quot;</span><span class="p">);</span>
<a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a><span class="nx">myAccount</span><span class="p">.</span><span class="nx">credit</span><span class="p">(</span><span class="mf">150</span><span class="p">);</span>
<a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">myAccount</span><span class="p">.</span><span class="nx">describe</span><span class="p">());</span>
</code></pre></div>
<p><img alt="Execution result" src="../images/chapter24-06.png" /></p>
<h3 id="playing-with-dates">Playing with dates</h3>
<p>The npm package <a href="https://momentjs.com/">moment</a> is very popular for managing dates and times.</p>
<p>Create a Node package and install the current <code>moment</code> version as a dependency. Then, load this package and use it to:</p>
<ul>
<li>Display the current date.</li>
<li>Compute the number of years since 1976, November 26th.</li>
</ul>
<p><img alt="Execution result" src="../images/chapter24-07.png" /></p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Use the <a href="https://momentjs.com/docs/">moment documentation</a> to discover how to use this package.</p>
</div>









  




                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.instant"], "search": "../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.83f73b43.min.js"></script>
      
    
  </body>
</html>